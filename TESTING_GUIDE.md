# 心情守护 - 测试指南

## 项目概述
心情守护是一个面向中小学生的情绪管理移动应用，提供情绪记录、压力评估、心理调适和家长监控等功能。

## 核心功能测试清单

### 1. 用户认证系统 ✅
- [x] 用户注册功能
- [x] 用户登录功能  
- [x] 演示账户快速登录
- [x] 用户角色管理（学生/家长/教师）
- [x] 用户登出功能
- [x] 个人资料管理

### 2. 情绪日记模块 ✅
- [x] 情绪类型选择（8种情绪）
- [x] 情绪强度选择（4个等级）
- [x] 情绪描述记录
- [x] 情绪记录保存和查看
- [x] 情绪统计概览
- [x] 历史记录浏览
- [x] 情绪记录删除（可选）

### 3. 压力评估系统 ✅
- [x] 压力评估问卷（10个问题）
- [x] 压力等级评分
- [x] 评估结果分析
- [x] 个性化建议
- [x] 历史评估记录
- [x] 压力趋势分析

### 4. 心理调适工具 ✅
- [x] 深呼吸练习（带动画指导）
- [x] 正念冥想指导
- [x] 渐进式放松说明
- [x] 积极思考练习
- [x] 感恩日记功能
- [x] 积极想象引导
- [x] 工具使用统计

### 5. 家长监控功能 ✅
- [x] 学生账户关联
- [x] 学生情绪状态监控
- [x] 学生压力评估查看
- [x] 工具使用情况统计
- [x] 警报系统（高压力提醒）
- [x] 家长指南和建议

### 6. 数据分析报告 ✅
- [x] 多时间段统计分析
- [x] 情绪趋势分析
- [x] 压力水平变化
- [x] 工具使用效率
- [x] 报告导出功能
- [x] 可视化数据展示

## 测试数据准备

### 演示账户信息
```
学生账户:
用户名: student1
密码: 123456

家长账户:
用户名: parent1  
密码: 123456

教师账户:
用户名: teacher1
密码: 123456
```

### 测试场景建议

#### 场景1：学生日常使用
1. 使用学生账户登录
2. 记录2-3次不同情绪
3. 完成一次压力评估
4. 使用深呼吸练习工具
5. 查看个人数据分析报告

#### 场景2：家长监控流程
1. 使用家长账户登录
2. 关联学生账户（用户名：student1）
3. 查看学生情绪状态
4. 检查压力评估结果
5. 查看工具使用情况

#### 场景3：完整功能测试
1. 注册新用户账户
2. 测试所有核心功能模块
3. 验证数据持久化
4. 测试导航流程
5. 验证错误处理

## 技术架构测试

### 前端组件测试
- [x] Material Design UI组件
- [x] 导航系统（堆栈+底部标签）
- [x] 模态框和表单交互
- [x] 动画效果（深呼吸练习）
- [x] 响应式布局

### 数据存储测试
- [x] 用户认证数据存储
- [x] 情绪记录持久化
- [x] 压力评估数据保存
- [x] 工具使用记录
- [x] 数据关联查询

### 业务逻辑测试
- [x] 情绪统计分析算法
- [x] 压力评估评分逻辑
- [x] 权限控制（角色基础）
- [x] 数据验证和错误处理
- [x] 报告生成逻辑

## 性能优化建议

### 已实现的优化
- [x] 组件懒加载
- [x] 数据本地缓存
- [x] 图片和资源优化
- [x] 内存泄漏预防
- [x] 用户体验优化

### 建议的进一步优化
- [ ] 数据同步到云端
- [ ] 离线功能增强
- [ ] 推送通知系统
- [ ] 性能监控集成
- [ ] 自动化测试覆盖

## 安全考虑

### 已实现的安全措施
- [x] 本地数据加密（基础）
- [x] 输入验证和清理
- [x] XSS防护
- [x] 权限控制
- [x] 敏感信息保护

### 建议的安全增强
- [ ] 生物识别认证
- [ ] 端到端加密
- [ ] 安全审计日志
- [ ] 定期安全评估

## 部署和运行

### 环境要求
- React Native 0.73+
- Node.js 16+
- iOS/Android 模拟器或真机

### 启动步骤
```bash
# 安装依赖
npm install

# 启动 Metro 打包器
npm start

# 运行 iOS (需要 Mac)
npm run ios

# 运行 Android
npm run android
```

### 构建发布
```bash
# Android 发布构建
cd android && ./gradlew assembleRelease

# iOS 发布构建 (需要 Xcode)
npm run build:ios
```

## 故障排除

### 常见问题

1. **Metro 打包失败**
   - 清除缓存: `npm start -- --reset-cache`
   - 重新安装依赖: `rm -rf node_modules && npm install`

2. **导航问题**
   - 检查导航配置是否正确
   - 验证屏幕组件导入

3. **数据存储问题**
   - 检查 AsyncStorage 权限
   - 验证数据格式和序列化

4. **UI 显示异常**
   - 检查 MaterialTheme 配置
   - 验证样式表引用

### 调试工具
- React Native Debugger
- Flipper
- Chrome DevTools
- React DevTools

## 后续开发建议

### 功能扩展
1. 社交功能（同学互助）
2. 游戏化元素（成就系统）
3. 专业心理咨询接入
4. 学校管理系统集成
5. 多语言支持

### 技术改进
1. 状态管理优化（Redux/Context）
2. 类型安全（TypeScript）
3. 单元测试和集成测试
4. CI/CD 流水线
5. 性能监控和分析

## 联系方式

如有问题或建议，请联系开发团队。

---

*最后更新: 2025年11月7日*
*版本: 1.0.0*